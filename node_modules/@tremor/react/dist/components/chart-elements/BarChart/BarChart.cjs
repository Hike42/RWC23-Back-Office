'use client';
"use strict";var e=require("tslib"),t=require("react"),a=require("../../../lib/constants.cjs"),r=require("../../../lib/theme.cjs"),l=require("../../../lib/utils.cjs"),o=require("../../../lib/tremorTwMerge.cjs"),i=require("recharts"),n=require("../common/utils.cjs"),s=require("../common/ChartLegend.cjs"),c=require("../common/ChartTooltip.cjs"),m=require("../common/NoData.cjs");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=d(t);const f=u.default.forwardRef(((d,f)=>{const{data:h=[],categories:k=[],index:v,colors:g=r.themeColorRange,valueFormatter:w=l.defaultValueFormatter,layout:y="horizontal",stack:x=!1,relative:p=!1,startEndOnly:b=!1,animationDuration:A=900,showAnimation:E=!0,showXAxis:T=!0,showYAxis:C=!0,yAxisWidth:L=56,showTooltip:D=!0,showLegend:N=!0,showGridLines:q=!0,autoMinValue:j=!1,minValue:M,maxValue:V,allowDecimals:F=!0,noDataText:G,className:S}=d,Y=e.__rest(d,["data","categories","index","colors","valueFormatter","layout","stack","relative","startEndOnly","animationDuration","showAnimation","showXAxis","showYAxis","yAxisWidth","showTooltip","showLegend","showGridLines","autoMinValue","minValue","maxValue","allowDecimals","noDataText","className"]),[B,O]=t.useState(60),X=n.constructCategoryColors(k,g),z=n.getYAxisDomain(j,M,V);return u.default.createElement("div",Object.assign({ref:f,className:o.tremorTwMerge("w-full h-80",S)},Y),u.default.createElement(i.ResponsiveContainer,{className:"h-full w-full"},(null==h?void 0:h.length)?u.default.createElement(i.BarChart,{data:h,stackOffset:p?"expand":"none",layout:"vertical"===y?"vertical":"horizontal"},q?u.default.createElement(i.CartesianGrid,{className:o.tremorTwMerge("stroke-1","stroke-tremor-content-subtle","dark:stroke-dark-tremor-content-subtle"),strokeDasharray:"3 3",horizontal:"vertical"!==y,vertical:"vertical"===y}):null,"vertical"!==y?u.default.createElement(i.XAxis,{hide:!T,dataKey:v,interval:"preserveStartEnd",tick:{transform:"translate(0, 6)"},ticks:b?[h[0][v],h[h.length-1][v]]:void 0,fill:"",stroke:"",className:o.tremorTwMerge("mt-4 text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickLine:!1,axisLine:!1}):u.default.createElement(i.XAxis,{hide:!T,type:"number",tick:{transform:"translate(-3, 0)"},domain:z,fill:"",stroke:"",className:o.tremorTwMerge("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickLine:!1,axisLine:!1,tickFormatter:w,padding:{left:10,right:10},minTickGap:5,allowDecimals:F}),"vertical"!==y?u.default.createElement(i.YAxis,{width:L,hide:!C,axisLine:!1,tickLine:!1,type:"number",domain:z,tick:{transform:"translate(-3, 0)"},fill:"",stroke:"",className:o.tremorTwMerge("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickFormatter:p?e=>`${(100*e).toString()} %`:w,allowDecimals:F}):u.default.createElement(i.YAxis,{width:L,hide:!C,dataKey:v,axisLine:!1,tickLine:!1,ticks:b?[h[0][v],h[h.length-1][v]]:void 0,type:"category",interval:"preserveStartEnd",tick:{transform:"translate(0, 6)"},fill:"",stroke:"",className:o.tremorTwMerge("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content")}),D?u.default.createElement(i.Tooltip,{wrapperStyle:{outline:"none"},isAnimationActive:!1,cursor:{fill:"#d1d5db",opacity:"0.15"},content:({active:e,payload:t,label:a})=>u.default.createElement(c.default,{active:e,payload:t,label:a,valueFormatter:w,categoryColors:X}),position:{y:0}}):null,N?u.default.createElement(i.Legend,{verticalAlign:"top",height:B,content:({payload:e})=>s({payload:e},X,O)}):null,k.map((e=>{var t;return u.default.createElement(i.Bar,{className:l.getColorClassNames(null!==(t=X.get(e))&&void 0!==t?t:a.BaseColors.Gray,r.colorPalette.background).fillColor,key:e,name:e,type:"linear",stackId:x||p?"a":void 0,dataKey:e,fill:"",isAnimationActive:E,animationDuration:A})}))):u.default.createElement(m,{noDataText:G})))}));f.displayName="BarChart",module.exports=f;
