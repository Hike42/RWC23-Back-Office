'use client';
import{__rest as e}from"tslib";import r,{useMemo as t}from"react";import{border as o}from"../../../lib/shape.js";import{sizing as a}from"../../../lib/sizing.js";import{spacing as l}from"../../../lib/spacing.js";import{tremorTwMerge as d}from"../../../lib/tremorTwMerge.js";import{startOfToday as n,startOfMonth as s}from"date-fns";import{enUS as m}from"date-fns/locale";import i from"../../../hooks/useInternalState.js";import{formatSelectedDates as u}from"../DateRangePicker/dateRangePickerUtils.js";import c from"../../../assets/XCircleIcon.js";import{Popover as f}from"@headlessui/react";import{getSelectButtonColors as b,hasValue as p}from"../selectUtils.js";import g from"../Calendar/Calendar.js";const k=n(),h=r.forwardRef(((n,h)=>{var w;const{value:v,defaultValue:x,onValueChange:j,minDate:C,maxDate:D,placeholder:N="Select",disabled:X=!1,locale:E=m,enableClear:R=!0,className:y}=n,P=e(n,["value","defaultValue","onValueChange","minDate","maxDate","placeholder","disabled","locale","enableClear","className"]),[V,S]=i(x,v),z=t((()=>{const e=[];return C&&e.push({before:C}),D&&e.push({after:D}),e}),[C,D]),B=V?u(V,void 0,E):N,I=s(null!==(w=null!=V?V:D)&&void 0!==w?w:k),M=R&&!X;return r.createElement(f,Object.assign({ref:h,as:"div",className:d("relative w-full min-w-[10rem] text-tremor-default","focus:ring-2 focus:ring-tremor-brand-muted focus:dark:focus:ring-dark-tremor-brand-muted",y)},P),r.createElement(f.Button,{disabled:X,className:d("w-full outline-none text-left whitespace-nowrap truncate focus:ring-2 transition duration-100 rounded-tremor-default","border-tremor-border shadow-tremor-input text-tremor-content-emphasis focus:border-tremor-brand-subtle","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:text-dark-tremor-content-emphasis dark:focus:border-dark-tremor-brand-subtle",l.twoXl.paddingLeft,M?l.fourXl.paddingRight:l.twoXl.paddingRight,l.sm.paddingY,o.sm.all,b(p(V),X))},B),M&&V?r.createElement("button",{className:d("absolute outline-none inset-y-0 right-0 flex items-center transition duration-100",l.twoXl.marginRight),onClick:e=>{e.preventDefault(),null==j||j(void 0),S(void 0)}},r.createElement(c,{className:d("flex-none","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",a.md.height,a.md.width)})):null,r.createElement(f.Panel,{className:d("absolute z-10 divide-y overflow-y-auto min-w-min left-0 outline-none rounded-tremor-default p-3","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown",l.twoXs.marginTop,l.twoXs.marginBottom,o.sm.all)},(({close:e})=>r.createElement(g,{showOutsideDays:!0,mode:"single",defaultMonth:I,selected:V,onSelect:r=>{null==j||j(r),S(r),e()},locale:E,disabled:z}))))}));h.displayName="DatePicker";export{h as default};
